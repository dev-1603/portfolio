const p="en",d=["en"],u="PARAGLIDE_LOCALE";const g=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let l,f=!1,L=()=>{let e;for(const o of g){if(o==="cookie")e=y();else if(o==="baseLocale")e=p;else if(o==="globalVariable"&&l!==void 0)e=l;else if(m(o)&&c.has(o)){const t=c.get(o);if(t){const a=t.getLocale();if(a instanceof Promise)continue;e=a}}if(e!==void 0){const t=k(e);return f||(l=t,f=!0,w(t,{reload:!1})),t}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},w=(e,o)=>{const t={reload:!0,...o};let a;try{a=L()}catch{}for(const n of g)if(n==="globalVariable")l=e;else if(n==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const i=`${u}=${e}; path=/; max-age=34560000`;document.cookie=i}else{if(n==="baseLocale")continue;if(m(n)&&c.has(n)){const i=c.get(n);if(i){const s=i.setLocale(e);s instanceof Promise&&s.catch(h=>{console.warn(`Custom strategy "${n}" setLocale failed:`,h)})}}}t.reload&&window.location&&e!==a&&window.location.reload()},b=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function r(e){return e?d.includes(e):!1}function k(e){if(r(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${d.join(", ")}`);return e}function y(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${u}=([^;]+)`)),o=e==null?void 0:e[2];if(r(o))return o}function x(e){return $(e)}function $(e){const o=typeof e=="string"?new URL(e,b()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&r(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}const c=new Map;function m(e){return typeof e=="string"&&/^custom-[A-Za-z0-9_-]+$/.test(e)}export{x as d,L as g,w as s};
